[TOC]
# REGEX (正则)
正则表达式是一种用于匹配和操作文本的强大工具，它是由一系列字符和特殊字符组成的模式，用于描述要匹配的文本模式。
正则表达式可以在文本中查找、替换、提取和验证特定的模式。

# 匹配规则

## 基础匹配
直接输入对应的字符串即可.
例如:
```
/ABC/=> ABC
/67321/ => 67321
/A1231231/ => a
```
## 字符对象
对于多数的字符来说，可以通过转义字符进行囊括.
### 打印字符
字符|描述
---|---
[ABC]|匹配[]内的所有字符
[^abc]|不匹配[ ]内的所有字符
[A-Z]|匹配A-Z的任一字符·0
`.`|匹配所有字符除了\n,\r相当于[^ \n\r].
\w|匹配字母,数字，下划线,相当于[0-9A-Za-z_]
\W|匹配除字母，数字，下划线，相当于[^0-9A-Za-z_]
\d|匹配数字0-9，相当于[0-9]
\D|匹配除数字0-9,相当于[^0-9]
### 非打印字符
字符|描述
---|---
\cx|匹配由x指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 'c' 字符。
\f|匹配一个换页符。等价于 \x0c 和 \cL。
\n|匹配一个换行符。等价于 \x0a 和 \cJ。
\r|匹配一个回车符。等价于 \x0d 和 \cM。
\s|匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。注意 Unicode 正则表达式会匹配全角空格符。
\S|匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。
\t|匹配一个制表符。等价于 \x09 和 \cI。
\v|匹配一个垂直制表符。等价于 \x0b 和 \cK。
### 特殊字符
所谓特殊字符，就是一些有特殊含义的字符，例如*，简单的说就是表示任何字符串的意思。如果要查找字符串中的 * 符号，则需要对 * 进行转义,说白了就是本身带有含义，因此不能直接使用的字符，需要进行\转义表示出其原来的意义.
字符|描述
---|---
$|匹配输入字符串的结尾位置，如果设置了multiline属性，那么$也匹配\n或者\r
()|标记一个子表达式的开始和结束位置
*|匹配前面表达式0次或者多次
+|匹配前面表达式1次总和多次
.|匹配所有除了\n的字符
[|标记中括号表达式的开始
?|匹配前面的表达式0次或者1次，或者指明一个非贪婪限定符.
\ |标记为转义字符
^ |匹配输入字符串的开始位置，在方括号中则是表达为不接受该括号内的字符集合
{ | 标记限定符表达式的开始
\| | 指明两项之间的选择
## 限定符
用来指明一个组件必须要出现多少次才能满足匹配.
字符|描述
---|---
*|匹配前面字符0次或者多次
+|匹配前面字符1次或者多次
?|匹配前面字符0次或者1次
{n}|匹配前面字符n次
{n,}|匹配前面字符大于n次
{n,n}|匹配前面字符n-m次
需要注意的是*或者+都是贪婪匹配，也就是寻找到所有符合的表达式，如果需要转换为非贪婪的形式也就是只找到一种，那么只需要在这些限定符后面加入?也就说`*?`或者`+?`
## 定位符
定位符使您能够将正则表达式固定到行首或行尾。
字符|描述
---|---
^|匹配输入字符串开始的位置,如果设置了regexp的multiline属性，那么^还会在\n与\r之后的位置匹配
$|匹配输入字符串结尾的位置,如果设置了regexp的multiline属性，那么$还会在\n与\r之前的位置进行匹配.
\b|匹配一个单词边界，即字与空格之间的位置.
\B|匹配非单词的边界.

注意：不能将限定符与定位符一起使用。由于在紧靠换行或者单词边界的前面或后面不能有一个以上位置，因此不允许诸如 ^* 之类的表达式。
若要匹配一行文本开始处的文本，请在正则表达式的开始使用 ^ 字符。不要将 ^ 的这种用法与中括号表达式内的用法混淆。
若要匹配一行文本的结束处的文本，请在正则表达式的结束处使用 $ 字符。

## 分组
用圆括号 () 将所有选择项括起来，相邻的选择项之间用 | 分隔。
() 表示捕获分组，() 会把每个分组里的匹配的值保存起来.
当使用html进行查看时，该正则匹配到的值会以数组的形式存储起来.
但用圆括号会有一个副作用，使相关的匹配会被缓存，此时可用 ?: 放在第一个选项前来消除这种副作用。

(?:pattern)|非捕获型分组，表示将 pattern 包含在一个分组中，但不把这个分组的匹配结果保存到分组编号中。这个分组通常用于表示可选的或重复的子表达式，或者是限制量词的作用范围，而不需要把它们的匹配结果单独提取出来。
如果说使用()表示捕获分组，( ?: )表示非捕获组，此时非捕获组就不能通过匹配值来获取这个非捕获组中的内容了.

补充: | 来表示或选项,使用\1,\2来表示获取在分组中圆括号中获取到的内容.如果说使用了( ?: )的这种形式，那么捕获组
就会被忽略，例如对第一个组使用(?:)，那么使用\1时会指向第二个组
## 断言
断言|描述
---|---
(?=pattern)|正向先行断言，表示匹配位置后面必须紧跟着满足 pattern 的字符串，但不包括这个字符串在匹配结果中。
(?!pattern)|负向先行断言，表示匹配位置后面不能紧跟着满足 pattern 的字符串，也不包括这个字符串在匹配结果中。
(?<=pattern)|正向后行断言，表示匹配位置前面必须是满足 pattern 的字符串，但不包括这个字符串在匹配结果中。
(?<!pattern)|负向后行断言，表示匹配位置前面不能是满足 pattern 的字符串，也不包括这个字符串在匹配结果中。

简单的理解就是说：
```
RegExp1(?=RegExp2)  匹配后面是RegExp2 的 RegExp1
RegExp1(?!RegExp2)  匹配后面不是RegExp2 的 RegExp1
(?<=RegExp2)RegExp1  匹配前面是RegExp2 的 RegExp1
(?<!RegExp2)RegExp1  匹配前面不是RegExp2 的 RegExp1
```
## 修饰符
修饰符一般放置在表达式之外，也就是放在最后面.
常用的有如下几个:
修饰符|含义
i|ignore-不区分大小写
g|global-全局匹配,查找所有的匹配项
m|multiline-多行匹配，匹配每一行的开头和结尾，而不是整个字符串的开头和结尾.
s|使得特殊字符圆点.匹配的时候从不包含换行符\n变为包含(也就是所有都进行匹配)